<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Laberinto Rom치ntico</title>
<style>
  body {
    font-family: 'Quicksand', sans-serif;
    background: #ffe6f0;
    color: #b30059;
    margin: 0; padding: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
  }

  h1 {
    font-family: 'Great Vibes', cursive;
    font-size: 3rem;
    margin: 20px 0;
  }

  #laberinto {
    display: grid;
    grid-template-columns: repeat(8, 50px);
    grid-template-rows: repeat(8, 50px);
    gap: 4px;
    margin-bottom: 20px;
    background: #fff0f6;
    padding: 12px;
    border-radius: 12px;
    box-shadow: 0 0 10px #f48fb1aa;
    user-select: none;
  }

  .celda {
    width: 50px; height: 50px;
    background: #ffd6e8;
    border-radius: 8px;
    position: relative;
  }

  .pared {
    background: #b30059;
    border-radius: 8px;
  }

  .salida {
    background: #f48fb1;
    border: 2px solid #b30059;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  /* Avatar coraz칩n kawaii peque침o */
  #avatar {
    position: absolute;
    width: 40px;
    height: 40px;
    background: linear-gradient(135deg, #f48fb1, #f06292);
    border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
    box-shadow: 0 3px 7px rgba(243, 105, 135, 0.7);
    animation: latir 1.5s infinite ease-in-out;
    z-index: 10;
    top: 5px;
    left: 5px;
  }

  @keyframes latir {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
  }

  /* Manos y pies avatar */
  #avatar::before, #avatar::after {
    content: "";
    position: absolute;
    background: #f06292;
    border-radius: 50%;
  }
  #avatar::before {
    width: 10px; height: 10px;
    top: 10px; left: -10px;
    box-shadow: 0 0 6px #f48fb1;
  }
  #avatar::after {
    width: 10px; height: 10px;
    top: 10px; right: -10px;
    box-shadow: 0 0 6px #f48fb1;
  }
  /* Pies */
  #pies {
    position: absolute;
    display: flex;
    gap: 6px;
    bottom: -8px;
    left: 50%;
    transform: translateX(-50%);
  }
  .pie {
    width: 10px; height: 10px;
    background: #f06292;
    border-radius: 50%;
    box-shadow: 0 0 6px #f48fb1;
    animation: moverPies 1.5s infinite ease-in-out;
  }
  .pie.derecha {
    animation-delay: 0.75s;
  }
  @keyframes moverPies {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(5px); }
  }

  /* Bot칩n siguiente nivel */
  #btn-siguiente {
    display: none;
    padding: 12px 25px;
    font-size: 1.2rem;
    background: #f48fb1;
    border: none;
    border-radius: 15px;
    color: white;
    cursor: pointer;
    box-shadow: 0 3px 8px #b30059aa;
    user-select: none;
    margin-bottom: 30px;
    transition: background-color 0.3s ease;
  }
  #btn-siguiente:hover {
    background-color: #b30059;
  }

  /* Mensajes */
  #mensaje {
    font-family: 'Great Vibes', cursive;
    font-size: 1.8rem;
    color: #b30059;
    margin-bottom: 15px;
    min-height: 36px;
    user-select: none;
  }
</style>
</head>
<body>

<h1>Laberinto Rom치ntico 游눘</h1>
<div id="mensaje">Nivel 1 - F치cil</div>
<div id="laberinto"></div>
<button id="btn-siguiente">Siguiente Nivel 俱뫮잺</button>

<script>
  // Definici칩n de niveles: 0 = camino, 1 = pared, 2 = salida
  const niveles = [
    { nivel: 1, dificultad: 'F치cil', laberinto: [
      [1,1,1,1,1,1,1,1],
      [1,0,0,0,0,1,0,1],
      [1,0,1,1,0,1,0,1],
      [1,0,1,0,0,0,0,1],
      [1,0,1,0,1,1,0,1],
      [1,0,0,0,1,2,0,1],
      [1,1,1,1,1,1,1,1],
      [1,1,1,1,1,1,1,1]
    ] },
    { nivel: 2, dificultad: 'F치cil', laberinto: [
      [1,1,1,1,1,1,1,1],
      [1,0,1,0,0,0,0,1],
      [1,0,1,0,1,1,0,1],
      [1,0,0,0,1,0,0,1],
      [1,1,1,0,1,0,1,1],
      [1,0,0,0,0,0,2,1],
      [1,0,1,1,1,1,1,1],
      [1,1,1,1,1,1,1,1]
    ] },
    { nivel: 3, dificultad: 'Intermedio', laberinto: [
      [1,1,1,1,1,1,1,1],
      [1,0,0,1,0,0,0,1],
      [1,1,0,1,0,1,0,1],
      [1,0,0,0,0,1,0,1],
      [1,0,1,1,0,1,0,1],
      [1,0,0,1,0,0,2,1],
      [1,1,0,0,0,1,1,1],
      [1,1,1,1,1,1,1,1]
    ] },
    { nivel: 4, dificultad: 'Intermedio', laberinto: [
      [1,1,1,1,1,1,1,1],
      [1,0,0,0,1,0,0,1],
      [1,0,1,0,1,0,1,1],
      [1,0,1,0,0,0,0,1],
      [1,0,1,1,1,1,0,1],
      [1,0,0,0,0,0,2,1],
      [1,1,1,1,1,1,1,1],
      [1,1,1,1,1,1,1,1]
    ] },
    { nivel: 5, dificultad: 'Intermedio', laberinto: [
      [1,1,1,1,1,1,1,1],
      [1,0,0,0,1,0,0,1],
      [1,0,1,0,1,1,0,1],
      [1,0,1,0,0,0,0,1],
      [1,0,1,1,1,1,0,1],
      [1,0,0,0,0,0,2,1],
      [1,1,1,1,1,1,1,1],
      [1,1,1,1,1,1,1,1]
    ] },
    { nivel: 6, dificultad: 'Dif칤cil', laberinto: [
      [1,1,1,1,1,1,1,1],
      [1,0,1,0,0,0,0,1],
      [1,0,1,1,1,1,0,1],
      [1,0,0,0,0,1,0,1],
      [1,1,1,1,0,1,0,1],
      [1,0,0,1,0,0,2,1],
      [1,1,0,0,0,1,1,1],
      [1,1,1,1,1,1,1,1]
    ] },
    { nivel: 7, dificultad: 'Dif칤cil', laberinto: [
      [1,1,1,1,1,1,1,1],
      [1,0,1,0,0,1,0,1],
      [1,0,1,1,0,1,0,1],
      [1,0,0,0,0,0,0,1],
      [1,0,1,1,1,1,0,1],
      [1,0,0,0,0,0,2,1],
      [1,1,1,1,1,1,1,1],
      [1,1,1,1,1,1,1,1]
    ] },
    { nivel: 8, dificultad: 'Dif칤cil', laberinto: [
      [1,1,1,1,1,1,1,1],
      [1,0,0,0,1,0,0,1],
      [1,0,1,0,1,0,1,1],
      [1,0,1,0,0,0,0,1],
      [1,0,1,1,1,1,0,1],
      [1,0,0,0,0,0,2,1],
      [1,1,1,1,1,1,1,1],
      [1,1,1,1,1,1,1,1]
    ] },
    { nivel: 9, dificultad: 'Dif칤cil', laberinto: [
      [1,1,1,1,1,1,1,1],
      [1,0,1,0,1,0,0,1],
      [1,0,1,0,1,1,0,1],
      [1,0,0,0,0,0,0,1],
      [1,1,1,1,1,1,0,1],
      [1,0,0,0,0,0,2,1],
      [1,1,1,1,1,1,1,1],
      [1,1,1,1,1,1,1,1]
    ] },
  ];

  let nivelActual = 0;

  const laberintoDiv = document.getElementById('laberinto');
  const mensaje = document.getElementById('mensaje');
  const btnSiguiente = document.getElementById('btn-siguiente');

  let avatarPos = { x: 1, y: 1 }; // posici칩n inicial

  function crearLaberinto() {
    laberintoDiv.innerHTML = '';
    const matriz = niveles[nivelActual].laberinto;

    for(let y = 0; y < matriz.length; y++) {
      for(let x = 0; x < matriz[y].length; x++) {
        const celda = document.createElement('div');
        celda.classList.add('celda');

        if(matriz[y][x] === 1) {
          celda.classList.add('pared');
        } else if(matriz[y][x] === 2) {
          celda.classList.add('salida');
          celda.textContent = '游끥';
          celda.style.fontSize = '24px';
          celda.style.textAlign = 'center';
          celda.style.lineHeight = '50px';
        }

        celda.id = `celda-${x}-${y}`;
        laberintoDiv.appendChild(celda);
      }
    }
  }

  function posicionAvatar() {
    // Mover el avatar al div correspondiente
    // Lo insertamos en la celda actual:
    const avatar = document.getElementById('avatar');
    const celdaActual = document.getElementById(`celda-${avatarPos.x}-${avatarPos.y}`);
    if(!celdaActual) return;

    // Asegurar que avatar est치 dentro de celda
    celdaActual.appendChild(avatar);
  }

  function crearAvatar() {
    const avatar = document.createElement('div');
    avatar.id = 'avatar';

    // A침adimos pies dentro del avatar
    const pies = document.createElement('div');
    pies.id = 'pies';

    const pie1 = document.createElement('div');
    pie1.classList.add('pie');
    const pie2 = document.createElement('div');
    pie2.classList.add('pie', 'derecha');

    pies.appendChild(pie1);
    pies.appendChild(pie2);
    avatar.appendChild(pies);

    laberintoDiv.appendChild(avatar);
    posicionAvatar();
  }

  function puedeMover(x, y) {
    const matriz = niveles[nivelActual].laberinto;
    if(x < 0 || y < 0 || y >= matriz.length || x >= matriz[0].length) return false;
    return matriz[y][x] !== 1;
  }

  function verificarSalida() {
    const matriz = niveles[nivelActual].laberinto;
    if(matriz[avatarPos.y][avatarPos.x] === 2) {
      mensaje.textContent = `춰Felicidades! Nivel ${niveles[nivelActual].nivel} completado.`;
      btnSiguiente.style.display = 'inline-block';
    } else {
      btnSiguiente.style.display = 'none';
      mensaje.textContent = `Nivel ${niveles[nivelActual].nivel} - ${niveles[nivelActual].dificultad}`;
    }
  }

  function moverAvatar(dx, dy) {
    const nuevoX = avatarPos.x + dx;
    const nuevoY = avatarPos.y + dy;
    if(puedeMover(nuevoX, nuevoY)) {
      avatarPos.x = nuevoX;
      avatarPos.y = nuevoY;
      posicionAvatar();
      verificarSalida();
    }
  }

  // Control de teclado
  window.addEventListener('keydown', e => {
    switch(e.key) {
      case 'ArrowUp': e.preventDefault(); moverAvatar(0, -1); break;
      case 'ArrowDown': e.preventDefault(); moverAvatar(0, 1); break;
      case 'ArrowLeft': e.preventDefault(); moverAvatar(-1, 0); break;
      case 'ArrowRight': e.preventDefault(); moverAvatar(1, 0); break;
    }
  });

  btnSiguiente.addEventListener('click', () => {
    if(nivelActual < niveles.length -1){
      nivelActual++;
      avatarPos = { x: 1, y: 1 };
      crearLaberinto();
      posicionAvatar();
      verificarSalida();
      btnSiguiente.style.display = 'none';
    } else {
      mensaje.textContent = "춰Has completado todos los niveles! 游눘";
      btnSiguiente.style.display = 'none';
    }
  });

  // Inicializaci칩n
  crearLaberinto();
  crearAvatar();
  verificarSalida();

</script>
</body>
</html>
