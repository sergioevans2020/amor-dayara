<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Laberinto del Amor</title>
  <style>
    body {
      margin: 0;
      font-family: 'Quicksand', sans-serif;
      background: #ffe6f0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      padding: 20px;
    }

    h1 {
      color: #c2185b;
      margin-bottom: 10px;
    }

    #laberinto {
      display: grid;
      grid-template-columns: repeat(10, 40px);
      grid-template-rows: repeat(10, 40px);
      gap: 2px;
      margin-top: 20px;
    }

    .celda {
      width: 40px;
      height: 40px;
      border-radius: 8px;
      background: #fce4ec;
      border: 2px solid #f8bbd0;
    }

    .pared {
      background: #c2185b;
    }

    .camino {
      background: #f48fb1;
    }

    .jugador {
      background: #ff4081;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
    }

    .meta {
      background: #d1c4e9;
      position: relative;
    }

    .meta::after {
      content: "üíù";
      position: absolute;
      top: 4px;
      left: 6px;
    }

    #mensaje, #siguienteBtn {
      margin-top: 20px;
      font-size: 18px;
      color: #880e4f;
    }

    #siguienteBtn {
      background: #ce93d8;
      border: none;
      padding: 10px 20px;
      border-radius: 10px;
      cursor: pointer;
      display: none;
    }

    #siguienteBtn:hover {
      background: #ba68c8;
    }
  </style>
</head>
<body>
  <h1>Laberinto del Amor üíò</h1>
  <div id="laberinto"></div>
  <div id="mensaje"></div>
  <button id="siguienteBtn" onclick="siguienteNivel()">‚û°Ô∏è Siguiente Nivel</button>

  <script>
    const niveles = [
      {
        mapa: [
          "##########",
          "#        #",
          "# ###### #",
          "# #    # #",
          "# # ## # #",
          "# # ## # #",
          "# #    # #",
          "# ###### #",
          "#        #",
          "########G#"
        ],
        mensaje: "¬°Nivel 1 completado! Eres mi camino favorito üíï"
      },
      {
        mapa: [
          "##########",
          "#     #  #",
          "# ### ## #",
          "# #     ##",
          "# # #####G",
          "#       ##",
          "### #### #",
          "#     #  #",
          "# ### ####",
          "#        #"
        ],
        mensaje: "¬°Nivel 2 superado! Todo contigo es una aventura ‚ú®"
      },
      {
        mapa: [
          "##########",
          "#   #    #",
          "## # ####G",
          "#     #  #",
          "# ### ####",
          "#   #    #",
          "### # ## #",
          "#     #  #",
          "# ###### #",
          "#        #"
        ],
        mensaje: "¬°Nivel final! Llegaste a mi coraz√≥n üíò"
      }
    ];

    let nivelActual = 0;
    let jugadorX = 1;
    let jugadorY = 1;

    const laberinto = document.getElementById("laberinto");
    const mensaje = document.getElementById("mensaje");
    const siguienteBtn = document.getElementById("siguienteBtn");

    function renderizarLaberinto() {
      laberinto.innerHTML = "";
      laberinto.style.gridTemplateColumns = `repeat(${niveles[nivelActual].mapa[0].length}, 40px)`;
      niveles[nivelActual].mapa.forEach((fila, y) => {
        [...fila].forEach((celda, x) => {
          const div = document.createElement("div");
          div.classList.add("celda");

          if (x === jugadorX && y === jugadorY) {
            div.classList.add("jugador");
            div.textContent = "üíñ";
          } else if (celda === "#") {
            div.classList.add("pared");
          } else if (celda === "G") {
            div.classList.add("meta");
          } else {
            div.classList.add("camino");
          }

          laberinto.appendChild(div);
        });
      });
    }

    function mover(dx, dy) {
      const nuevoX = jugadorX + dx;
      const nuevoY = jugadorY + dy;
      const fila = niveles[nivelActual].mapa[nuevoY];
      if (!fila) return;
      const celda = fila[nuevoX];
      if (celda === "#") return;

      jugadorX = nuevoX;
      jugadorY = nuevoY;
      renderizarLaberinto();

      if (celda === "G") {
        mensaje.textContent = niveles[nivelActual].mensaje;
        siguienteBtn.style.display = nivelActual < niveles.length - 1 ? "inline-block" : "none";
      }
    }

    function siguienteNivel() {
      nivelActual++;
      jugadorX = 1;
      jugadorY = 1;
      mensaje.textContent = "";
      siguienteBtn.style.display = "none";
      renderizarLaberinto();
    }

    document.addEventListener("keydown", (e) => {
      if (e.key === "ArrowUp") mover(0, -1);
      if (e.key === "ArrowDown") mover(0, 1);
      if (e.key === "ArrowLeft") mover(-1, 0);
      if (e.key === "ArrowRight") mover(1, 0);
    });

    renderizarLaberinto();
  </script>
</body>
</html>
