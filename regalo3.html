<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Regalo 3 - Libro de frases (doble página)</title>
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Quicksand:wght@600&display=swap" rel="stylesheet" />
  <style>
    body {
      margin: 0;
      background: #fff0f5; /* suave rosa lavanda */
      font-family: 'Quicksand', sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      overflow: hidden;
      user-select: none;
      padding: 20px;
      perspective: 1400px; /* para 3D */
    }

    /* Fondo decorativo romántico sutil con CSS */
    body::before {
      content: "";
      position: fixed;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      background:
        radial-gradient(circle at 20% 30%, #f8c8dc33 10%, transparent 11%),
        radial-gradient(circle at 80% 70%, #f8c8dc33 10%, transparent 11%);
      background-repeat: repeat;
      background-size: 200px 200px;
      pointer-events: none;
      z-index: 0;
    }

    .libro {
      display: flex;
      gap: 30px;
      width: 880px; /* 2 páginas de 420px + gap */
      height: 320px;
      transform-style: preserve-3d;
      position: relative;
      z-index: 10;
    }

    .pagina {
      width: 420px;
      height: 320px;
      background: #fff;
      border-radius: 25px;
      box-shadow:
        inset 0 0 40px #f9c4d7,
        0 10px 30px rgba(204, 99, 118, 0.3);
      padding: 30px 35px 40px 35px;
      box-sizing: border-box;
      position: relative;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      font-size: 18px;
      color: #962c4a;
      user-select: text;
      backface-visibility: hidden;
      transform-origin: center center;
      transition: transform 0.6s ease, opacity 0.6s ease;
    }

    /* Animaciones pasar página */
    .pagina.pasando {
      transform: rotateY(-90deg);
      opacity: 0;
    }
    .pagina.volviendo {
      transform: rotateY(0deg);
      opacity: 1;
    }

    /* Para la página izquierda, girar el origen a la derecha para efecto más natural */
    .pagina.izquierda {
      transform-origin: right center;
    }

    /* Para la página derecha, origen a la izquierda */
    .pagina.derecha {
      transform-origin: left center;
    }

    /* Texto frase */
    .frase-texto {
      font-size: 22px;
      font-style: italic;
      font-weight: 600;
      line-height: 1.4;
      text-align: center;
      max-width: 360px;
      margin-bottom: 30px;
      font-family: 'Great Vibes', cursive;
      text-shadow: 1px 1px 2px #ffcde2;
      color: #6b213f;
      position: relative;
    }

    /* Número frase */
    .numero-frase {
      position: absolute;
      top: 25px;
      right: 30px;
      font-family: 'Quicksand', sans-serif;
      font-weight: 700;
      font-size: 28px;
      color: #c7496a;
      background: #fddde6;
      padding: 6px 15px;
      border-radius: 30px 0 30px 0;
      box-shadow: 1px 1px 5px #c7496a99;
      user-select: none;
      letter-spacing: 0.06em;
    }

    /* Botones flechas */
    .controles {
      margin-top: 370px;
      display: flex;
      justify-content: center;
      gap: 40px;
      user-select: none;
    }
    button {
      background-color: #c7496a;
      border: none;
      color: #fff;
      font-weight: 700;
      font-size: 24px;
      padding: 12px 20px;
      border-radius: 15px;
      cursor: pointer;
      box-shadow: 0 4px 12px #c7496aaa;
      transition: background-color 0.3s ease;
      user-select: none;
    }
    button:disabled {
      background-color: #e3a6b5;
      cursor: default;
      box-shadow: none;
    }
    button:hover:not(:disabled) {
      background-color: #9e3952;
    }

    /* Portada estilo especial */
    .portada .frase-texto {
      font-size: 28px;
      font-style: normal;
      font-weight: 700;
      color: #b34766;
      text-shadow: 1px 1px 3px #e0a9b6;
    }
    .portada .numero-frase {
      display: none;
    }

  </style>
</head>
<body>

  <main class="libro" aria-label="Libro digital de frases románticas">
    <section class="pagina izquierda volviendo portada" role="region" aria-live="polite" aria-atomic="true" id="paginaIzquierda">
      <div class="numero-frase" id="numeroFraseIzq"></div>
      <div class="frase-texto" id="textoFraseIzq">30 Razones por las que te amo</div>
    </section>

    <section class="pagina derecha volviendo" role="region" aria-live="polite" aria-atomic="true" id="paginaDerecha">
      <div class="numero-frase" id="numeroFraseDer"></div>
      <div class="frase-texto" id="textoFraseDer">Pulsa siguiente para empezar</div>
    </section>
  </main>

  <nav class="controles" aria-label="Controles de navegación del libro">
    <button id="prev" aria-label="Página anterior" disabled>&larr; Anterior</button>
    <button id="next" aria-label="Página siguiente">Siguiente &rarr;</button>
  </nav>

  <script>
    const frases = [
      "Cada día a tu lado es un capítulo maravilloso de nuestra historia.",
      "Eres el latido que da vida a mi corazón.",
      "Contigo, cada momento es eterno y lleno de amor.",
      "Tu sonrisa ilumina mis días más oscuros.",
      "Nuestro amor es el libro más hermoso que he leído.",
      "En tus brazos encuentro mi lugar favorito.",
      "Cada palabra tuya es poesía para mi alma.",
      "Gracias por ser mi compañera y mi mejor amiga.",
      "Amarte es la aventura más dulce de mi vida.",
      "Juntos escribimos el mejor cuento de amor.",
      "Tu voz es la melodía que calma mis tormentas.",
      "No hay distancia que pueda apagar este fuego que siento por ti.",
      "Eres mi inspiración y mi refugio seguro.",
      "A tu lado, el tiempo se detiene para que vivamos el presente.",
      "Mi corazón late con más fuerza cuando pienso en ti.",
      "Nuestro amor es un viaje sin final, lleno de magia y sueños.",
      "Cada beso tuyo es un capítulo inolvidable.",
      "Contigo aprendí que el verdadero amor es paciente y eterno.",
      "Eres la razón de mis sonrisas y mis suspiros.",
      "En tus ojos encuentro la paz que siempre busqué.",
      "Tu amor me hace querer ser mejor cada día.",
      "Eres el sol que ilumina mi mundo gris.",
      "Juntos construimos un castillo de sueños y esperanzas.",
      "Eres mi cuento favorito, el que siempre quiero leer.",
      "Cada instante contigo es un regalo del destino.",
      "Nuestro amor es un poema que escribimos sin palabras.",
      "Eres la melodía que alegra mi corazón cansado.",
      "A tu lado, la vida tiene un color más brillante.",
      "Eres mi todo, mi ahora y mi siempre.",
      "Gracias por llenar mi vida de amor y felicidad."
    ];

    // índice para las páginas dobles (portada es 0 izquierda y 0 derecha)
    // frases comienzan en la derecha página 1 (índice 1 en el arreglo)
    // página izquierda muestra frases pares (índice par), derecha las impares (índice impar)
    let paginaActual = 0; // Contamos en pares, portada = 0

    const paginaIzquierda = document.getElementById('paginaIzquierda');
    const paginaDerecha = document.getElementById('paginaDerecha');

    const textoFraseIzq = document.getElementById('textoFraseIzq');
    const textoFraseDer = document.getElementById('textoFraseDer');

    const numeroFraseIzq = document.getElementById('numeroFraseIzq');
    const numeroFraseDer = document.getElementById('numeroFraseDer');

    const btnPrev = document.getElementById('prev');
    const btnNext = document.getElementById('next');

    let animando = false;

    function mostrarPaginas(indice) {
      animando = true;

      // Animar páginas (salida)
      paginaIzquierda.classList.add('pasando');
      paginaDerecha.classList.add('pasando');

      // Después del tiempo de la animación (600ms), cambiar texto y animar entrada
      setTimeout(() => {
        // Página izquierda (frase par)
        if (indice === 0) {
          textoFraseIzq.textContent = "30 Razones por las que te amo";
          numeroFraseIzq.textContent = "";
          paginaIzquierda.classList.add('portada');
        } else {
          paginaIzquierda.classList.remove('portada');
          const idxIzq = (indice * 2) - 2; // Índice en frases para página izquierda
          if (idxIzq >= 0 && idxIzq < frases.length) {
            textoFraseIzq.textContent = frases[idxIzq];
            numeroFraseIzq.textContent = `Frase ${idxIzq + 1}`;
          } else {
            textoFraseIzq.textContent = "";
            numeroFraseIzq.textContent = "";
          }
        }

        // Página derecha (frase impar)
        const idxDer = (indice * 2) - 1; // Índice en frases para página derecha
        if (indice === 0) {
          textoFraseDer.textContent = "Pulsa siguiente para empezar";
          numeroFraseDer.textContent = "";
        } else if (idxDer >= 0 && idxDer < frases.length) {
          textoFraseDer.textContent = frases[idxDer];
          numeroFraseDer.textContent = `Frase ${idxDer + 1}`;
        } else {
          textoFraseDer.textContent = "";
          numeroFraseDer.textContent = "";
        }

        // Animar páginas (entrada)
        paginaIzquierda.classList.remove('pasando');
        paginaDerecha.classList.remove('pasando');

        paginaIzquierda.classList.add('volviendo');
        paginaDerecha.classList.add('volviendo');

        animando = false;

        actualizarBotones();
      }, 600);
    }

    function actualizarBotones() {
      btnPrev.disabled = paginaActual === 0;
      // Máximo índice para la derecha:
      // Cada índice representa 2 frases, max: ceil(frases.length / 2)
      btnNext.disabled = paginaActual >= Math.ceil(frases.length / 2);
    }

    btnPrev.addEventListener('click', () => {
      if (paginaActual > 0 && !animando) {
        paginaActual--;
        mostrarPaginas(paginaActual);
      }
    });

    btnNext.addEventListener('click', () => {
      if (paginaActual < Math.ceil(frases.length / 2) && !animando) {
        paginaActual++;
        mostrarPaginas(paginaActual);
      }
    });

    // Mostrar portada al cargar
    mostrarPaginas(0);
  </script>
</body>
</html>
