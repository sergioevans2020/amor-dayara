<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>üî• Fitness Power Mode üî•</title>
  <style>
    body {
      margin: 0;
      font-family: 'Arial Black', sans-serif;
      background: radial-gradient(circle at center, #111 0%, #000 100%);
      color: #fff;
      background-image: url('https://www.transparenttextures.com/patterns/asfalt-dark.png');
    }

    h1, h2 {
      text-align: center;
      margin-top: 1rem;
      color: #ff3c00;
      text-shadow: 0 0 10px #ff6d00;
    }

    .frase-espejo {
      background: #222;
      padding: 1rem;
      margin: 1rem auto;
      width: 85%;
      text-align: center;
      font-size: 1.4rem;
      border-radius: 10px;
      border: 2px solid #ff6d00;
      animation: pulso 2s infinite alternate;
    }

    @keyframes pulso {
      from { transform: scale(1); }
      to { transform: scale(1.02); }
    }

    .seccion {
      background: rgba(255, 255, 255, 0.05);
      margin: 2rem auto;
      padding: 1.2rem;
      border-radius: 15px;
      width: 90%;
      border: 1px solid #ff5722;
      box-shadow: 0 0 10px #ff5722;
    }

    .seccion h2 {
      color: #ffc107;
    }

    .tarea-input {
      display: flex;
      gap: 10px;
      margin-bottom: 1rem;
    }

    .tarea-input input {
      flex: 1;
      padding: 0.6rem;
      border: none;
      border-radius: 5px;
    }

    .tarea-input button {
      padding: 0.6rem 1rem;
      background: #ff5722;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    ul {
      list-style: none;
      padding: 0;
    }

    li {
      margin: 0.5rem 0;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .progreso-barra {
      width: 100%;
      height: 16px;
      background: #333;
      border-radius: 10px;
      margin-top: 1rem;
      overflow: hidden;
    }

    .progreso-barra span {
      display: block;
      height: 100%;
      background: linear-gradient(to right, #76ff03, #00e676);
      width: 0;
      transition: width 0.3s ease-in-out;
    }

    .medallas {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1rem;
    }

    .medalla {
      width: 80px;
      height: 80px;
      background: radial-gradient(circle at center, #ff6d00, #ff3c00);
      border-radius: 50%;
      border: 3px solid #fff;
      box-shadow: 0 0 15px #ff5722, 0 0 30px #ff9800;
      position: relative;
    }

    .medalla.locked {
      filter: grayscale(100%) opacity(0.5);
      box-shadow: none;
    }

    textarea {
      width: 100%;
      height: 100px;
      padding: 0.6rem;
      border: none;
      border-radius: 8px;
      resize: none;
    }

    button.delete-btn {
      background: #e53935;
      border: none;
      color: white;
      padding: 0.2rem 0.6rem;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.8rem;
    }

    .mensaje {
      text-align: center;
      margin-top: 1rem;
      color: #4caf50;
      font-weight: bold;
      animation: aparecer 0.5s ease-in-out;
    }

    @keyframes aparecer {
      from { opacity: 0; transform: scale(0.9); }
      to { opacity: 1; transform: scale(1); }
    }
  </style>
</head>
<body>

  <h1>üî• ¬°Bienvenido al Power Gym! üî•</h1>

  <!-- Modo Espejo -->
  <div class="frase-espejo" id="fraseEspejo"></div>

  <!-- Secci√≥n Tareas Personalizadas -->
  <div class="seccion">
    <h2>üèãÔ∏è Tus Desaf√≠os del D√≠a</h2>
    <div class="tarea-input">
      <input type="text" id="nuevaTarea" placeholder="Ej. 15 burpees al amanecer"/>
      <button onclick="agregarTarea()">A√±adir</button>
    </div>
    <ul id="listaTareas"></ul>
    <div class="progreso-barra"><span id="progreso"></span></div>
    <div id="mensajeBienHecho" class="mensaje" style="display:none;">¬°Bien hecho!üî• Sigue as√≠.</div>
  </div>

  <!-- Medallas Fitness -->
  <div class="seccion">
    <h2>üèÖ Medallas de Honor</h2>
    <div class="medallas" id="zonaMedallas"></div>
  </div>

  <!-- Bloc de Notas Fitness -->
  <div class="seccion">
    <h2>üìù Mini Bloc Fitness</h2>
    <textarea id="notas" placeholder="Escribe tu reflexi√≥n, metas o sentimientos..."></textarea>
    <button onclick="guardarNota()" style="margin-top: 1rem;">Guardar Nota</button>
  </div>

  <script>
    const fraseEspejo = [
      "¬°Hoy te entrenas como leyenda!",
      "Suda, lucha, gana. üî•",
      "No se trata de fuerza, sino de coraje.",
      "¬°Vamos! Esta es tu zona de poder."
    ];
    document.getElementById("fraseEspejo").innerText =
      fraseEspejo[Math.floor(Math.random() * fraseEspejo.length)];

    const lista = document.getElementById("listaTareas");
    const progreso = document.getElementById("progreso");
    const tareasGuardadas = JSON.parse(localStorage.getItem("tareasFitness") || "[]");
    const mensaje = document.getElementById("mensajeBienHecho");

    function renderizarTareas() {
      lista.innerHTML = "";
      let completadas = 0;

      tareasGuardadas.forEach((tarea, index) => {
        const li = document.createElement("li");
        const checkbox = document.createElement("input");
        checkbox.type = "checkbox";
        checkbox.checked = tarea.done;
        checkbox.onchange = () => {
          tareasGuardadas[index].done = checkbox.checked;
          guardarTareas();
          renderizarTareas();
        };

        const texto = document.createTextNode(tarea.text);

        const delBtn = document.createElement("button");
        delBtn.innerText = "X";
        delBtn.className = "delete-btn";
        delBtn.onclick = () => {
          tareasGuardadas.splice(index, 1);
          guardarTareas();
          renderizarTareas();
        };

        li.appendChild(checkbox);
        li.appendChild(texto);
        li.appendChild(delBtn);
        lista.appendChild(li);

        if (tarea.done) completadas++;
      });

      const porcentaje = tareasGuardadas.length
        ? (completadas / tareasGuardadas.length) * 100
        : 0;
      progreso.style.width = porcentaje + "%";

      if (completadas === tareasGuardadas.length && tareasGuardadas.length > 0) {
        mensaje.style.display = "block";
      } else {
        mensaje.style.display = "none";
      }
    }

    function agregarTarea() {
      const input = document.getElementById("nuevaTarea");
      const texto = input.value.trim();
      if (texto !== "") {
        tareasGuardadas.push({ text: texto, done: false });
        input.value = "";
        guardarTareas();
        renderizarTareas();
      }
    }

    function guardarTareas() {
      localStorage.setItem("tareasFitness", JSON.stringify(tareasGuardadas));
    }

    function guardarNota() {
      const nota = document.getElementById("notas").value;
      localStorage.setItem("notaFitness", nota);
      alert("Nota guardada!");
    }

    function mostrarMedallas() {
      const zona = document.getElementById("zonaMedallas");
      zona.innerHTML = "";
      const dias = parseInt(localStorage.getItem("diasActivos") || "1");
      const completadas = tareasGuardadas.filter(t => t.done).length;

      const cantidad = Math.floor((dias + completadas) / 5);

      for (let i = 0; i < 8; i++) {
        const med = document.createElement("div");
        med.className = "medalla";
        if (i >= cantidad) med.classList.add("locked");
        zona.appendChild(med);
      }
    }

    // D√≠a activo (contador de d√≠as consecutivos)
    function aumentarDia() {
      let dias = parseInt(localStorage.getItem("diasActivos") || "0");
      dias++;
      localStorage.setItem("diasActivos", dias.toString());
    }

    aumentarDia();
    renderizarTareas();
    mostrarMedallas();
  </script>
</body>
</html>
